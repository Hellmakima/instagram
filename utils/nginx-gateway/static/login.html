<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="https://static.cdninstagram.com/rsrc.php/v4/yI/r/VsNE-OHk_8a.png"
        sizes="192x192" />
    <title>Instagram Login</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            /* color: #e0e0e0; */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            padding-top: 70px;
            box-sizing: border-box;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 350px;
            width: 100%;
        }

        .login-box,
        .signup-box,
        .app-download-box {
            background: white;
            padding: 20px 40px;
            border: 1px solid #fff;
            border-radius: 3px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
            width: 100%;
            box-sizing: border-box;
            margin-bottom: 10px;
            text-align: center;
        }

        /* Styling for the Instagram logo provided by the user */
        .instagram-logo-container {
            margin: 20px 0 10px;
            display: inline-block;
            width: 175px;
            height: 51px;
            overflow: hidden;
        }

        .login-box input {
            width: 100%;
            padding: 10px 8px;
            margin: 6px 0;
            border: 1px solid #dbdbdb;
            border-radius: 3px;
            background-color: #fafafa;
            box-sizing: border-box;
            font-size: 14px;
            color: #262626;
            /* Ensure input text is dark */
        }

        .login-box input::placeholder {
            color: #8e8e8e;
            /* Placeholder text color */
        }

        .login-box input:focus {
            outline: none;
            border-color: #a8a8a8;
        }

        .login-box button {
            width: 100%;
            padding: 8px 0;
            margin-top: 15px;
            background-color: #3897f0;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: background-color 0.2s ease;
        }

        .login-box button:hover {
            background-color: #007bff;
        }

        .separator {
            display: flex;
            align-items: center;
            text-align: center;
            margin: 20px 0;
            color: #8e8e8e;
            font-size: 13px;
            text-transform: uppercase;
        }

        .separator::before,
        .separator::after {
            content: '';
            flex: 1;
            border-bottom: 1px solid #dbdbdb;
        }

        .separator:not(:empty)::before {
            margin-right: .5em;
        }

        .separator:not(:empty)::after {
            margin-left: .5em;
        }

        .facebook-login {
            background: none;
            border: none;
            color: #385185;
            /* Facebook blue */
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            padding: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
        }

        .facebook-login .fb-icon {
            margin-right: 8px;
            width: 16px;
            /* SVG width */
            height: 16px;
            /* SVG height */
            color: #385185;
            /* Ensures SVG uses the same color */
        }

        .forgot-password {
            display: block;
            text-align: center;
            margin-top: 12px;
            color: #00376b;
            /* Blue for the link */
            text-decoration: none;
            font-size: 12px;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .signup-box {
            padding: 20px;
            font-size: 14px;
            /* color: #e0e0e0; */
            /* Light text for this box */
        }

        .signup-box a {
            color: #3897f0;
            text-decoration: none;
            font-weight: bold;
        }

        .signup-box a:hover {
            text-decoration: underline;
        }

        .app-download-box {
            padding: 20px 0;
            border: none;
            background: none;
            box-shadow: none;
            margin-top: 10px;
            /* color: #e0e0e0; */
            /* Light text for this box */
        }

        .app-download-box p {
            margin-bottom: 20px;
        }

        .app-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .app-badge-img {
            height: 40px;
            /* Standard badge height */
            width: auto;
            /* Maintain aspect ratio */
            object-fit: contain;
            /* Ensure image fits */
        }

        .footer {
            margin-top: auto;
            padding: 20px 0;
            text-align: center;
            color: #8e8e8e;
            font-size: 12px;
            width: 100%;
            max-width: 935px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            padding-bottom: 40px;
        }

        .footer nav {
            display: contents;
        }

        .footer nav a {
            color: rgb(168, 168, 168);
            text-decoration: none;
            font-weight: 400;
            transition: color 0.2s ease;
            white-space: nowrap;
        }

        .footer nav a:hover {
            color: #e0e0e0;
            /* Lighter on hover for dark background */
        }

        .footer .copyright {
            width: 100%;
            margin-top: 12px;
            font-size: 12px;
            color: #8e8e8e;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="login-box">
            <div class="instagram-logo-container">
                <i data-visualcompletion="css-img" aria-label="Instagram" class="" role="img"
                    style="background-image: url(&quot;https://static.cdninstagram.com/rsrc.php/v4/yB/r/E7m8ZCMOFDS.png&quot;);background-position: 0px -52px;background-size: auto;width: 175px;height: 51px;background-repeat: no-repeat;display: inline-block;"></i>
            </div>

            <form id="loginForm" onsubmit="handleLogin(event)">
                <input type="text" name="username" placeholder="Phone number, username, or email" required>
                <input type="password" name="password" placeholder="Password" required>
                <button type="submit">Log In</button>

                <div class="separator">OR</div>

                <button class="facebook-login">
                    <svg aria-label="Facebook" class="fb-icon" color="#385185" fill="#385185" height="16" role="img"
                        viewBox="0 0 16 16" width="16">
                        <g clip-path="url(#a)">
                            <path
                                d="M8 0C3.6 0 0 3.6 0 8c0 4 2.9 7.3 6.8 7.9v-5.6h-2V8h2V6.2c0-2 1.2-3.1 3-3.1.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.3V8h2.2l-.4 2.3H9.2v5.6C13.1 15.3 16 12 16 8c0-4.4-3.6-8-8-8Z"
                                fill="currentColor"></path>
                        </g>
                        <defs>
                            <clipPath id="a">
                                <rect clip-rule="evenodd" height="16" width="16"></rect>
                            </clipPath>
                        </defs>
                    </svg>
                    Log in with Facebook
                </button>

                <a href="#" class="forgot-password">Forgot password?</a>
            </form>
        </div>

        <div class="signup-box">
            Don't have an account? <a href="#">Sign up</a>
        </div>

        <div class="app-download-box">
            <p>Get the app.</p>
            <div class="app-badges">
                <a href="#"><img src="https://static.cdninstagram.com/rsrc.php/v4/yz/r/c5Rp7Ym-Klz.png"
                        alt="Get it on Google Play" class="app-badge-img"></a>
                <a href="#"><img src="https://static.cdninstagram.com/rsrc.php/v4/yu/r/EHY6QnZYdNX.png"
                        alt="Get it from Microsoft" class="app-badge-img"></a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <nav>
            <a href="#">Meta</a>
            <a href="#">About</a>
            <a href="#">Blog</a>
            <a href="#">Jobs</a>
            <a href="#">Help</a>
            <a href="#">API</a>
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
            <a href="#">Locations</a>
            <a href="#">Instagram Lite</a>
            <a href="#">Threads</a>
            <a href="#">Contact Uploading & Non-Users</a>
            <a href="#">Meta Verified</a>
        </nav>
        <div class="copyright">
            &copy; 2025 Instagram from Meta
        </div>
    </footer>

    <script>
        async function handleLogin(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = {
                username: formData.get('username'),
                password: formData.get('password')
            };

            try {
                const params = new URLSearchParams();
                params.append('username', data.username);
                params.append('password', data.password);

                const response = await fetch('/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: params
                });

                if (!response.ok) throw new Error(await response.text());
                const result = await response.json();
                localStorage.setItem('access_token', result.access_token);
                localStorage.setItem('refresh_token', result.refresh_token);
                window.location.href = '/static/test/me.html';
            } catch (error) {
                alert('Login failed: ' + error.message);
            }
        }
    </script>
</body>

</html>